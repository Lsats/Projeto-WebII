<div class="container">
  <div class="header">
    <h1>Solicitações</h1>
    <button mat-raised-button color="primary" >
    <mat-icon>filter_list</mat-icon>
    </button>
    
  </div>


   
   <table mat-table [dataSource]="solicitacoes" class="mat-elevation-z3 tabela">

    <ng-container matColumnDef="dataHora">
      <th mat-header-cell *matHeaderCellDef> Data/Hora </th>
      <td mat-cell *matCellDef="let s"> {{s.dataHora | date : 'short' : '' : 'pt-BR'}}  </td>
    </ng-container>


    <ng-container matColumnDef="cliente">
      <th mat-header-cell *matHeaderCellDef> Cliente </th>
      <td mat-cell *matCellDef="let s"> {{ s.cliente }} </td>
    </ng-container>


    <ng-container matColumnDef="equipamento">
      <th mat-header-cell *matHeaderCellDef> Equipamento </th>
      <td mat-cell *matCellDef="let s">
        {{ s.equipamento | slice:0:30 }}{{ s.equipamento.length > 30 ? '...' : '' }}
      </td>
    </ng-container>

    <ng-container matColumnDef="estado">
      <th mat-header-cell *matHeaderCellDef> Estado </th>
      <td mat-cell *matCellDef="let s"> {{ s.estado }} </td>
    </ng-container>

    <ng-container matColumnDef="acoes">
      <th mat-header-cell *matHeaderCellDef> Ações </th>
      <td mat-cell *matCellDef="let element">
      
       
        <ng-container [ngSwitch]="element.estado">

          

          <ng-container *ngSwitchCase="'ABERTA'">
            <button mat-button color="warn" title="Efetuar Orçamento" (click)="efetuarOrcamento(element)" style="background-color: rgba(128, 128, 128, 0.815);" >
              Efetuar Orçamento
            </button>
          </ng-container>


          <ng-container *ngSwitchCase="'APROVADA'">
            <button mat-button color="warn" title="Efetuar Manutenção" (click)="efetuarManutencao(element)" style="background-color: rgb(170, 170, 67);" >
              Efetuar Manutenção
            </button>
          </ng-container>
           <ng-container *ngSwitchCase="'REDIRECIONADA'">
            <button mat-button color="warn" title="Efetuar Manutenção" (click)="efetuarManutencao(element)" style="background-color: rgba(172, 96, 172, 0.74)">
              Efetuar Manutenção
            </button>
          </ng-container>

          <ng-container *ngSwitchCase="'PAGA'">
             <button mat-button color="primary" title="Finalizar Solicitação" class="pagar-btn" (click)="finalizarSolicitacao(element)" style="background-color: rgba(255, 166, 0, 0.603); ">
            Finalizar Solicitação
          </button>
          </ng-container>

      
          <ng-container *ngSwitchDefault>

          </ng-container>

        </ng-container>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" [ngClass]="defineCorEstado(row.estado)"></tr>
  </table>
</div>
